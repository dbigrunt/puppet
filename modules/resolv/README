To call the module insert this in the node definition:

    import "resolv"
    resolv_conf { "basenode_resolv":
        searchpath  => ['mydomain.com'],,
        nameservers => ['dns1','dns2','dns2'],
        options     => ['rotate','timeout:1','attempts:5']
    }
